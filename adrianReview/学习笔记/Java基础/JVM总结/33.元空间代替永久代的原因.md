### JVM 内存管理由元空间代替了永久代

> ​		JDK1.7中，存储在永久代的部分数据就已经转移到了 `Java Heap` 或者是 `Native Heap` 。但永久代仍存在于JDK1.7中，并没完全移除，譬如符号引用（Symbols）转移到了 `native heap`；字面量（interned strings）转移到了 `java heap`；类的静态变量（class statics）转移到了 `java heap`

区别：

1. 元空间并不在虚拟机中，而是**使用本地内存**
2. 默认情况下，元空间的大小**仅受本地内存限制**
3. 也可以通过 -XX：MetaspaceSize 指定元空间大小



### 转换的原因

- **字符串**存在永久代中，容易出现性能问题和内存溢出
- **类及方法的信息等比较难确定其大小**，因此对于永久代的大小指定比较困难，太小容易出现永久代溢出，太大则容易导致老年代溢出
- 永久代会**为 GC 带来不必要的复杂度**，并且回收效率偏低