### 查看日志

#### tail 【实时看日志】

- **tail -f  \*.log** 【实时查看日志,开发环境还行，生产就算了，日志猛刷啊】
- **tail -f error.log** 【实时看异常日志还是可以的】



#### vi 【编辑文本】

**vi x.log** 【强大的vi命令】

- :wq 保存退出

- :q! 退出不保存

- Shift + g   跳至当前文本最后一行 【看最新的日志，都在最下面】

- g + g  跳至当前文本第一行



#### grep 【专抓日志】

grep 【强大的grep，搜日志就靠它了，grep是必备日志分析命令】

- **`grep -r '关键字如商品ID' *.log` 【使用频率最高】**

- **`grep '关键字如商品ID' *.log | grep 免费商品` 【条件结果中，在加条件筛选下 】**

- **`grep '关键字如商品ID' *.log >> anan.txt` 【相关日志输入到一个txt中，下载到本地慢慢看，我最喜欢】**

- **`grep -A 2 '商品ID' *.log` 【显示商品ID及后5行】**

- `grep -B 2 '商品ID' *.log` 【显示商品ID及上5行】

- `grep -C 2 '商品ID' *.log` 【显示商品ID及上下5行】

- `grep '商品ID' *.log  --col `  【高亮显示商品ID，非常醒目啊】



#### curl 查看接口是否能通【重要】

- **`curl url请求全路径`** 【查看controller接口网络通不通，蛮实用的】



#### host 查域名IP

- **`host 域名`** 【查具体IP】



#### **杀僵尸进程** 

- `ps -ef | grep java` 【先查java进程ID】

- `kill -9 进程ID` 【生产环境谨慎使用】



### TOP查看线程使用CPU高

1. 获取项目的pid，jps或者ps -ef | grep java

2. top -H -p pid，顺序不能改变

   > ​		这样就可以打印出当前的项目，每条线程占用CPU时间的百分比。注意这里打出的是LWP，也就是操作系统原生线程的线程号
   >
   > ​		使用"top -H -p pid"+"jps pid"可以很容易地找到某条占用CPU高的线程的线程堆栈，从而定位占用CPU高的原因
   >
   > 注意："top -H -p pid"打出来的LWP是十进制的，"jps pid"打出来的本地线程号是十六进制的，转换一下，就能定位到占用CPU高的线程的当前线程堆栈了