Spring初始化和销毁特定操作执行顺序

### 常用的设置方式

- 通过实现 `InitializingBean/DisposableBean` 接口来定制初始化之后/销毁之前的操作方法；
- 通过 <bean> 元素的 `init-method/destroy-method` 属性指定初始化之后 /销毁之前调用的操作方法；
- 在指定方法上加上 `@PostConstruct` 或 `@PreDestroy` 注解来制定该方法是在初始化之后还是销毁之前调用



### 执行顺序结论

1. 实现 `InitializingBean` 接口是直接调用 `afterPropertiesSet` 方法，比通过反射调用 `init-method` 指定的方法效率相对来说要高点。但是 `init-method` 方式消除了对spring的依赖
2. 先调用 `afterPropertiesSet`，再执行 `init-method` 方法，如果调用`afterPropertiesSet` 方法时出错，则不调用 `init-method` 指定的方法
3. `@PostConstruct` 方法的调用方式也是通过反射机制



#### 执行顺序

spring bean的初始化执行顺序：

1.  Bean 的构造方法
2.  `@PostConstruct`注解的方法 
3.  `afterPropertiesSet`方法 （`InitializingBean`  接口）
4.  `init-method`指定的方法