![](.\images\springbean生命周期.png)

### 图文描述

- Bean容器找到配置文件中 Spring Bean 的定义

- Bean容器利用 反射API 创建一个Bean的实例

- 如果涉及到一些属性值利用set方法设置一些属性值：

  - 如果Bean实现了 `BeanNameAware` 接口，调用 `setBeanName()` 方法，传入Bean的名字。

  - 如果Bean实现了 `BeanClassLoaderAware` 接口，调用 `setBeanClassLoader()` 方法，传入`ClassLoader` 对象的实例。

  - 如果Bean实现了`BeanFactoryAware` 接口，调用 `setBeanFactory()` 方法

  - 与上面的类似，如果实现了其他 `Aware` 接口，就调用相应的方法。

- 如果有和加载这个Bean的Spring容器相关的 `BeanPostProcessor` 对象，执行`postProcessBeforeInitialization()` 方法

- 如果Bean实现了 `InitializingBean` 接口，执行 `afterPropertiesSet()` 方法。

- 如果Bean在配置文件中的定义包含 `init-method` 属性，执行指定的方法（注解：`@PostConstruct`）

- 如果有和加载这个Bean的Spring容器相关的 `BeanPostProcessor` 对象，执行`postProcessAfterInitialization()` 方法

- 当要销毁Bean的时候，如果Bean实现了 `DisposableBean` 接口，执行 `destroy()` 方法

- 当要销毁Bean的时候，如果Bean在配置文件中的定义包含 `destroy-method` 属性，执行指定的方法（注解：`@PreDestroy`）



### 面试描述

1. 由 `BeanFactory` 读取Bean的定义，并生成各个实例；同时设置各个依赖的属性
2. 如果实现相关 `Aware` 接口，那么执行相应的 set 方法；例如 `BeanNameAware` 则执行 `setBeanName` 方法
3. 如果有和这个Bean相关的 `BeanPostProcessor` 对象，执行`postProcessBeforeInitialization()` 方法
4. 如果Bean实现了 `InitializingBean` 接口，执行 `afterPropertiesSet()` 方法
5. 如果Bean在配置文件中的定义了 `init-method` 属性，执行指定的方法
6. 如果有和这个Bean的相关的 `BeanPostProcessor` 对象，执行`postProcessAfterInitialization()` 方法
7. 销毁Bean的时候，如果Bean实现了 `DisposableBean` 接口，执行 `destroy()` 方法；如果Bean在配置文件中的定义包含 `destroy-method` 属性，执行指定的方法