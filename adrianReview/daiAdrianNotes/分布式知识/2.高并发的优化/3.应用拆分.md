# 应用拆分

## 拆分的原则

1. <font color=red>业务优先：</font>
   - 每个系统都会有多个模块，每个模块又有多个业务功能；按照业务边界进行切割，再对模块进行拆分

2. <font color=red>循序渐进：</font>
   - 边拆分边测试，保证系统的正常运行

3. <font color=red>兼顾技术：</font>
   - 重构、分层（不能为了分布式而分布式，拆分过程不仅是业务梳理也是代码重构的过程，根据技术进行分层来分配工作）

4. <font color=red>可靠测试：</font>
   - 测试完毕后，才可进行下一步，每一步都要有足够的测试才可进行下一步，避免小错误引起蝴蝶效应



## 应用拆分时设计和选择

1. 应用之间通信：
   - RPC ：采用RPC要求实时性高
   - 消息队列：消息队列通常用于传输数据包小但是数据量大，对实时性要求低的场景
   - API（基于RESTFul风格的接口原则）



2. 应用之间数据库设计：
   - 通常情况下，每个应用都有自己独立的数据库，如果共同使用的信息，可以考虑放在common中使用



3. 避免事务操作跨应用：
   - 分布式事务是一个很消耗资源的问题，应用之间服务分开开发，能够保持相互独立



