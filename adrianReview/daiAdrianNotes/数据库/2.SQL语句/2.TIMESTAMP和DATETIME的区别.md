## TIMESTAMP 和 DATETIME 的区别

### 1.存储

- `DATETIME` 占用 8 个字节
- `TIMESTAMP` 占用 4 个字节
  - 因为存储的长度短，所以决定其存储范围也比 `DATETIME` 要小
  - 可以当做时间戳使用，在更新时自动更新，这一列只能由系统自动更新，不能由 SQL 语句更新



### 2.存储范围

- `DATETIME`
  - 从 `1000-01-01 00:00:00` 到 `9999-12-31 23:59:59`
  - 从 MySQL 5.6.4 之后，可以存储小数片段，最多到小数点后 6 位
    - 显示时格式为 `yyyy-MM-dd HH:mm:ss[.888888]`



- `TIMESTAMP`
  - 从 `1970-01-01 00:00:01`  到  `2038-01-19 03:14:07` （时间戳的形式）
  - 存储小数片段，6位小数



### 3.时区

- `DATETIME`
  - 保存格式为 `YYYYMMDDHHMMSS`（年月日时分秒）的整数，它与时区无关，存入的是什么值就是什么值，不会根据当前时区进行转换

- `TIMESTAMP`
  - 存入的是自 `1970-01-01` 午夜（格林尼治标准时间）以来的秒数
  - 它和 UNIX 时间戳相同。所以它与时区有关，查询时转为相应的时区时间
    - 比如存储的是 `1970-01-01 00:00:00`，客户端是北京，那么就加 8 个时区的小时`1970-01-01 08:00:00`



### 4.两者的选择

- 如果在使用的时间上需要超过 Linux 的时间，或者服务器时区不一样的可以选择 `DATETIME`
- 如果需要自动更新时间的，那么选择 `TIMESTAMP`

