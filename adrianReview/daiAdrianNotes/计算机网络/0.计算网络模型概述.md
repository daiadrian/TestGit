## 计算机的层次结构

> ISP：（Internet Service Provider，网络服务提供商）

### 层次结构设计原则

- 分层去实现两个计算机之间交互存在的一些问题
  - 例如：保证数据通路的顺畅，识别目标计算机和其状态，检查传输的数据是否正确
- **各层之间是相互独立的**
- 各层都有一定的灵活性
- 各层之间是完全解耦的

### OSI七层模型

​		OSI七层模式是一个大的标准，但是并没有成为广泛使用的标准模型；因为其市场化比较困难，只是理论上的一个标准，而且设计不是特别合理，有一些功能在多层之间重复出现

![OSI七层模型](images\0.OSI七层模型.png)

主要的层次结构

- <font color=blue>**应用层**</font>
  - 为计算机用户提供接口和服务；主要有HTTP协议，DNS服务
- <font color=blue>**表示层**</font>
  - 数据处理，一些数据的编码解码，加密解密的操作
- <font color=blue>**会话层**</font>
  - 管理通信会话，包括建立会话，维护会话和会话重连
- <font color=blue>**传输层**</font>
  - 管理端到端的通信连接，主要是TCP/UDP的传输协议
- <font color=blue>**网络层**</font>
  - 数据路由，主要是IP协议
  - 处理网络上流动的数据包，在这一层上规定通过怎么样的路径（传输路线）去传输数据包
  - 如果在与对方的计算机之间需要通过多台计算机或者网络设备进行传输时，该层起到的作用就是在众多的选项内选择一条传输路线
- <font color=blue>**数据链路层**</font>
  - 管理节点之间的数据通信
- <font color=blue>**物理层**</font>
  - 数据通信的光电物理特性



### TCP/IP四层模型

​		OSI模型没有在市场化上取得成功，是因为TCP/IP协议的成功，TCP/IP协议成为现在计算机网络常用的模型

![TCP/IP四层模型](images\0.TCP_IP四层模型.png)

主要的四层结构

- <font color=red>**应用层**</font>
  - 为用户提供接口和服务；主要有HTTP协议，FTP协议（文件传输协议），DNS服务
- <font color=red>**传输层**</font>
  - 提供处于网络连接中的两台计算机之间的数据传输，主要有TCP和UDP协议
- <font color=red>**网络层**</font>
  - 处理网络上流动的数据包，在这一层上规定通过怎么样的路径（传输路线）去传输数据包
  - 如果在与对方的计算机之间需要通过多台计算机或者网络设备进行传输时，该层起到的作用就是在众多的选项内选择一条传输路线
- <font color=red>**网络接口层**，也可以叫做数据链路层</font>
  - 用来处理连接网络的硬件部分；包括操作系统和光纤等



### 性能指标

#### 时延

时延包含

- <font color=red>发送时延</font>
  - 发送时延 = 数据长度（bit）/ 发送速率 （bit/s，发送速率主要受限于网卡）
- <font color=red>传播时延</font>
  - 传播时延 = 传播路径距离 / 传播速率（bit/s，主要受限于传播介质，例如铜线，光纤）
- <font color=red>排队时延</font>
  - 数据包在网络设备中等待被处理的时间。因为一个路由器不只是处理一个计算机的数据包，多个端的数据包需要进行排队等待路由器的处理
- <font color=red>处理时延</font>
  - 数据包到达目标设备或者目的机器被处理所需要的时间

总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延 



#### 往返时间RTT

- RTT（Route-Trip Time）
- RTT表示的是数据报文在端到端的通信中的来回一次的时间