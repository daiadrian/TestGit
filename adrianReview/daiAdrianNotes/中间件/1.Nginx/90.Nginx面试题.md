### 1.为什么要使用`Nginx `

​		`Nginx `是一个高性能的 HTTP 和 反向代理 服务器

优势：

1. 单次请求会得到更快的响应；在高峰期（如有数以万计的并发请求），`Nginx ` 可以比其他Web服务器更快地响应请求

2. 高扩展性；`Nginx `由多个不同功能、不同层次、不同类型且耦合度极低的模块组成；不但可以使用第三方的模块，而且修复问题只需要专注修复对应模块

3. 低内存消耗

4. 节省宽带：支持 `GZIP` 压缩，可以添加浏览器本地缓存

5. 热部署

   > - master管理进程与worker工作进程的分离设计，使得`Nginx `能够提供热部署功能
   > - 它也支持不停止服务就更新配置项、更换日志文件等功能



### 2.`Nginx `负载均衡算法

1. 轮询算法（round-robin）
2. 加权轮询（weight）
3. IP_Hash 算法
4. Url_Hash 算法
5. least_conn 最少连接数



### 3.为什么不使用多线程

​		`Nginx ` 采用单线程来异步非阻塞处理请求（管理员可以配置`Nginx `主进程的工作进程的数量）(epoll)

​		不会为每个请求分配 cpu 和内存资源，节省了大量资源，同时也减少了大量的CPU的上下文切换。所以才使得`Nginx `支持更高的并发



### 4.`Nginx `是如何处理一个请求的

1. `Nginx ` 在启动时，会解析配置文件，得到需要监听的端口与 IP 地址
2. 在 `Nginx` 的 Master 进程里面，先初始化好这个监控的 socket，再进行Listen（监听）
3. 再 fork 出多个子进程出来（一个现有进程可以调用 fork 函数创建一个新进程。由fork创建的新进程被称为子进程），子进程会竞争 accept 新的连接
4. 客户端就可以向 `Nginx` 发起连接了。当客户端与 `Nginx` 进行三次握手，与 `Nginx` 建立好一个连接后
5. 某一个子进程会 accept 成功，然后创建 `Nginx` 对连接的封装，即`ngx_connection_t` 结构体接着，根据事件调用相应的事件处理模块（如 HTTP 模块与客户端进行数据的交换，最后，`Nginx` 或客户端来主动关掉连接，到此，一个连接就完成了）
   

### 5.动态/静态资源分离的原因

​		动、静分离将网站静态资源（HTML，JavaScript，CSS，image等文件）与后台应用分开部署，**<font color=green>提高用户访问静态代码的速度，降低对后台应用访问</font>**

